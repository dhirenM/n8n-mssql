# ============================================================
# n8n MSSQL Configuration Example
# ============================================================
# Copy this file to .env in packages/cli/ directory
# Then update the values according to your SQL Server setup
# ============================================================

# ============================================================
# Database Configuration (REQUIRED)
# ============================================================

# Database Type - Set to mssqldb for SQL Server
DB_TYPE=mssqldb

# ============================================================
# MSSQL Connection Settings
# ============================================================

# SQL Server hostname or IP address
DB_MSSQLDB_HOST=localhost

# SQL Server port (default: 1433)
DB_MSSQLDB_PORT=1433

# Database name
DB_MSSQLDB_DATABASE=n8n_db

# SQL Server username
DB_MSSQLDB_USER=n8n_user

# SQL Server password
DB_MSSQLDB_PASSWORD=YourStrongPassword123!

# Database schema (default: dbo)
DB_MSSQLDB_SCHEMA=dbo

# ============================================================
# Connection Pool Settings
# ============================================================

# Maximum number of connections in the pool
DB_MSSQLDB_POOL_SIZE=10

# Connection timeout in milliseconds
DB_MSSQLDB_CONNECTION_TIMEOUT=20000

# ============================================================
# SSL/TLS Settings
# ============================================================

# Enable connection encryption (recommended: true)
DB_MSSQLDB_ENCRYPT=true

# Trust the server certificate
# - Set to true for development with self-signed certificates
# - Set to false for production with proper SSL certificates
DB_MSSQLDB_TRUST_SERVER_CERTIFICATE=false

# ============================================================
# Optional: Table Prefix
# ============================================================

# Add a prefix to all table names (leave empty for no prefix)
DB_TABLE_PREFIX=

# ============================================================
# Database Logging
# ============================================================

# Enable database query logging
DB_LOGGING_ENABLED=false

# Logging options: query, error, schema, warn, info, log, all
DB_LOGGING_OPTIONS=error

# Only log queries that take longer than this (in milliseconds)
# Set to 0 to disable
DB_LOGGING_MAX_EXECUTION_TIME=1000

# ============================================================
# Database Ping Interval
# ============================================================

# Interval in seconds to ping the database to keep connection alive
DB_PING_INTERVAL_SECONDS=2

# ============================================================
# Example Configurations for Different Scenarios
# ============================================================

# --- Local Development (Localhost) ---
# DB_MSSQLDB_HOST=localhost
# DB_MSSQLDB_PORT=1433
# DB_MSSQLDB_DATABASE=n8n_dev
# DB_MSSQLDB_USER=sa
# DB_MSSQLDB_PASSWORD=DevPassword123!
# DB_MSSQLDB_ENCRYPT=true
# DB_MSSQLDB_TRUST_SERVER_CERTIFICATE=true

# --- Azure SQL Database ---
# DB_MSSQLDB_HOST=yourserver.database.windows.net
# DB_MSSQLDB_PORT=1433
# DB_MSSQLDB_DATABASE=n8n_db
# DB_MSSQLDB_USER=youradmin@yourserver
# DB_MSSQLDB_PASSWORD=YourAzurePassword123!
# DB_MSSQLDB_ENCRYPT=true
# DB_MSSQLDB_TRUST_SERVER_CERTIFICATE=false

# --- Remote SQL Server (Production) ---
# DB_MSSQLDB_HOST=sql.example.com
# DB_MSSQLDB_PORT=1433
# DB_MSSQLDB_DATABASE=n8n_production
# DB_MSSQLDB_USER=n8n_prod_user
# DB_MSSQLDB_PASSWORD=SecureProductionPassword123!
# DB_MSSQLDB_ENCRYPT=true
# DB_MSSQLDB_TRUST_SERVER_CERTIFICATE=false
# DB_MSSQLDB_POOL_SIZE=20

# ============================================================
# Additional n8n Settings (Optional)
# ============================================================

# n8n listen address
# N8N_HOST=0.0.0.0

# n8n port
# N8N_PORT=5678

# n8n protocol
# N8N_PROTOCOL=http

# Webhook URL
# WEBHOOK_URL=http://localhost:5678/

# ============================================================
# IMPORTANT NOTES:
# ============================================================
# 1. Before starting n8n, you MUST create the database schema
#    by running: n8n_schema_idempotent.sql
#
# 2. Ensure SQL Server is accessible from your n8n instance
#    (check firewalls, network security groups, etc.)
#
# 3. For production, use strong passwords and enable encryption
#
# 4. MSSQL support is EXPERIMENTAL - use at your own risk
#    For production, PostgreSQL is recommended
#
# 5. Copy this file to: C:\Git\n8n\packages\cli\.env
#    Then customize the values for your setup
# ============================================================

